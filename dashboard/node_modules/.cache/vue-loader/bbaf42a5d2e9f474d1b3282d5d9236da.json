{"remainingRequest":"C:\\Users\\torres_fan\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\torres_fan\\Desktop\\Safety-Application-CS542\\dashboard\\src\\components\\insertTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\torres_fan\\Desktop\\Safety-Application-CS542\\dashboard\\src\\components\\insertTable.vue","mtime":1606437702679},{"path":"C:\\Users\\torres_fan\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\torres_fan\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\torres_fan\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\torres_fan\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KdmFyIHdlYmNhbGwgPSBheGlvcy5jcmVhdGUoew0KICBiYXNlVVJMOiAiaHR0cDovLzEyNy4wLjAuMTo1MDAwLyIsDQogIHRpbWVvdXQ6IDIwMDAwLA0KICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLA0KICBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIgfSwNCn0pOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICByZWxvYWRpbmc6IHRydWUsDQogICAgICBmaWVsZHM6IFsNCiAgICAgICAgIklEIiwNCiAgICAgICAgIkxhdCIsDQogICAgICAgICJMbmciLA0KICAgICAgICAiUG9saWNlX0Rpc3RyaWN0IiwNCiAgICAgICAgIkRhdGUiLA0KICAgICAgICAiSG91ciIsDQogICAgICAgICJSZWxhdGlvbiIsDQogICAgICAgICJDcmltaW5hbElEIiwNCiAgICAgICAgIlZpY3RpbUlEIiwNCiAgICAgICAgIkNyaW1lVHlwZSIsDQogICAgICAgICJDb25maXJtZWQiLA0KICAgICAgXSwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMubG9hZERhdGEoKTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBpdGVtcygpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50YWJsZTsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgbG9hZERhdGEoKSB7DQogICAgICB2YXIgdm0gPSB0aGlzOw0KICAgICAgdHJ5IHsNCiAgICAgICAgd2ViY2FsbC5nZXQoIi9yZXF1ZXN0SW5zZXJ0IikudGhlbihhc3luYyBmdW5jdGlvbiAocmVzcG9uc2UpIHsNCiAgICAgICAgICB2YXIgdGVtcCA9IGF3YWl0IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOw0KICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICBmb3IgKHZhciBpIG9mIHRlbXApIHsNCiAgICAgICAgICAgIHZhciBjdXIgPSB7fTsNCiAgICAgICAgICAgIGN1clsiSUQiXSA9IGlbIkluc2VydElEIl07DQogICAgICAgICAgICBjdXJbIkxhdCJdID0gaVsiTEFUIl07DQogICAgICAgICAgICBjdXJbIkxuZyJdID0gaVsiTE9OIl07DQogICAgICAgICAgICB2YXIgY3VyVCA9IG5ldyBEYXRlKGlbIlRJTUVTVEFNUCJdICogMTAwMCk7DQogICAgICAgICAgICBjdXJbIkRhdGUiXSA9DQogICAgICAgICAgICAgIGN1clQuZ2V0RnVsbFllYXIoKSArICItIiArIGN1clQuZ2V0TW9udGgoKSArICItIiArIGN1clQuZ2V0RGF0ZSgpOw0KICAgICAgICAgICAgY3VyWyJIb3VyIl0gPSBpWyJUSU1FU0xPVCJdOw0KICAgICAgICAgICAgY3VyWyJSZWxhdGlvbiJdID0gaVsiUmVsYXRpb24iXTsNCiAgICAgICAgICAgIGN1clsiQ3JpbWluYWxJRCJdID0gaVsiQ3JpbWluYWxJRCJdOw0KICAgICAgICAgICAgY3VyWyJWaWN0aW1JRCJdID0gaVsiVmljdGltSUQiXTsNCiAgICAgICAgICAgIGN1clsiQ3JpbWVUeXBlIl0gPSBpWyJDcmltZVR5cGUiXTsNCiAgICAgICAgICAgIGN1clsiUG9saWNlX0Rpc3RyaWN0Il0gPSBpWyJQT0xJQ0VfRElTVFJJQ1QiXTsNCiAgICAgICAgICAgIGN1clsiQ29uZmlybWVkIl0gPSBmYWxzZTsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cik7DQogICAgICAgICAgfQ0KICAgICAgICAgIHZtLiRzdG9yZS5jb21taXQoInVwZGF0ZVRhYmxlIiwgcmVzdWx0KTsNCiAgICAgICAgfSk7DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgY29uc29sZS5sb2coImVycm9yIik7DQogICAgICAgIGFsZXJ0KGVycik7DQogICAgICB9DQogICAgfSwNCiAgICBzdWJtaXRDaGFuZ2VzKCkgew0KICAgICAgdmFyIHZtID0gdGhpczsNCiAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgIGZvciAodmFyIGkgb2YgdGhpcy5pdGVtcykgew0KICAgICAgICB2YXIgY3VyID0ge307DQogICAgICAgIGlmIChpWyJDb25maXJtZWQiXSkgew0KICAgICAgICAgIGN1clsiSUQiXSA9IGlbIklEIl07DQogICAgICAgICAgY3VyWyJDb25maXJtZWQiXSA9IGlbIkNvbmZpcm1lZCJdOw0KICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHZhciBmaW5hbCA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7DQogICAgICB3ZWJjYWxsLnBvc3QoIi9jcmltZUNvbmZpcm0iLCBmaW5hbCkudGhlbihhc3luYyBmdW5jdGlvbiAocmVzcG9uc2UpIHsNCiAgICAgICAgdmFyIHRlbXAgPSBhd2FpdCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBmb3IgKHZhciBpIG9mIHRlbXApIHsNCiAgICAgICAgICB2YXIgY3VyID0ge307DQogICAgICAgICAgY3VyWyJJRCJdID0gaVsiSW5zZXJ0SUQiXTsNCiAgICAgICAgICBjdXJbIkxhdCJdID0gaVsiTEFUIl07DQogICAgICAgICAgY3VyWyJMbmciXSA9IGlbIkxPTiJdOw0KICAgICAgICAgIHZhciBjdXJUID0gbmV3IERhdGUoaVsiVElNRVNUQU1QIl0gKiAxMDAwKTsNCiAgICAgICAgICBjdXJbIkRhdGUiXSA9DQogICAgICAgICAgICBjdXJULmdldEZ1bGxZZWFyKCkgKyAiLSIgKyBjdXJULmdldE1vbnRoKCkgKyAiLSIgKyBjdXJULmdldERhdGUoKTsNCiAgICAgICAgICBjdXJbIkhvdXIiXSA9IGlbIlRJTUVTTE9UIl07DQogICAgICAgICAgY3VyWyJSZWxhdGlvbiJdID0gaVsiUmVsYXRpb24iXTsNCiAgICAgICAgICBjdXJbIkNyaW1pbmFsSUQiXSA9IGlbIkNyaW1pbmFsSUQiXTsNCiAgICAgICAgICBjdXJbIlZpY3RpbUlEIl0gPSBpWyJWaWN0aW1JRCJdOw0KICAgICAgICAgIGN1clsiQ3JpbWVUeXBlIl0gPSBpWyJDcmltZVR5cGUiXTsNCiAgICAgICAgICBjdXJbIlBvbGljZV9EaXN0cmljdCJdID0gaVsiUE9MSUNFX0RJU1RSSUNUIl07DQogICAgICAgICAgY3VyWyJDb25maXJtZWQiXSA9IGZhbHNlOw0KICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cik7DQogICAgICAgIH0NCiAgICAgICAgdm0uJHN0b3JlLmNvbW1pdCgidXBkYXRlVGFibGUiLCByZXN1bHQpOw0KICAgICAgfSk7DQogICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["insertTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"insertTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <b-table :items=\"items\" :fields=\"fields\" striped responsive=\"sm\">\r\n      <template #cell(confirmed)=\"row\">\r\n        <!-- As `row.showDetails` is one-way, we call the toggleDetails function on @change -->\r\n        <b-form-checkbox v-model=\"row.item.Confirmed\"></b-form-checkbox>\r\n      </template>\r\n    </b-table>\r\n    <div class=\"text-right\">\r\n      <b-button @click=\"submitChanges\">Submit</b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nvar webcall = axios.create({\r\n  baseURL: \"http://127.0.0.1:5000/\",\r\n  timeout: 20000,\r\n  withCredentials: false,\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n});\r\nexport default {\r\n  data() {\r\n    return {\r\n      reloading: true,\r\n      fields: [\r\n        \"ID\",\r\n        \"Lat\",\r\n        \"Lng\",\r\n        \"Police_District\",\r\n        \"Date\",\r\n        \"Hour\",\r\n        \"Relation\",\r\n        \"CriminalID\",\r\n        \"VictimID\",\r\n        \"CrimeType\",\r\n        \"Confirmed\",\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadData();\r\n  },\r\n  computed: {\r\n    items() {\r\n      return this.$store.state.table;\r\n    },\r\n  },\r\n  methods: {\r\n    loadData() {\r\n      var vm = this;\r\n      try {\r\n        webcall.get(\"/requestInsert\").then(async function (response) {\r\n          var temp = await JSON.parse(JSON.stringify(response.data));\r\n          var result = [];\r\n          for (var i of temp) {\r\n            var cur = {};\r\n            cur[\"ID\"] = i[\"InsertID\"];\r\n            cur[\"Lat\"] = i[\"LAT\"];\r\n            cur[\"Lng\"] = i[\"LON\"];\r\n            var curT = new Date(i[\"TIMESTAMP\"] * 1000);\r\n            cur[\"Date\"] =\r\n              curT.getFullYear() + \"-\" + curT.getMonth() + \"-\" + curT.getDate();\r\n            cur[\"Hour\"] = i[\"TIMESLOT\"];\r\n            cur[\"Relation\"] = i[\"Relation\"];\r\n            cur[\"CriminalID\"] = i[\"CriminalID\"];\r\n            cur[\"VictimID\"] = i[\"VictimID\"];\r\n            cur[\"CrimeType\"] = i[\"CrimeType\"];\r\n            cur[\"Police_District\"] = i[\"POLICE_DISTRICT\"];\r\n            cur[\"Confirmed\"] = false;\r\n            result.push(cur);\r\n          }\r\n          vm.$store.commit(\"updateTable\", result);\r\n        });\r\n      } catch (err) {\r\n        console.log(\"error\");\r\n        alert(err);\r\n      }\r\n    },\r\n    submitChanges() {\r\n      var vm = this;\r\n      var result = [];\r\n      for (var i of this.items) {\r\n        var cur = {};\r\n        if (i[\"Confirmed\"]) {\r\n          cur[\"ID\"] = i[\"ID\"];\r\n          cur[\"Confirmed\"] = i[\"Confirmed\"];\r\n          result.push(cur);\r\n        }\r\n      }\r\n      var final = JSON.stringify(result);\r\n      webcall.post(\"/crimeConfirm\", final).then(async function (response) {\r\n        var temp = await JSON.parse(JSON.stringify(response.data));\r\n        var result = [];\r\n        for (var i of temp) {\r\n          var cur = {};\r\n          cur[\"ID\"] = i[\"InsertID\"];\r\n          cur[\"Lat\"] = i[\"LAT\"];\r\n          cur[\"Lng\"] = i[\"LON\"];\r\n          var curT = new Date(i[\"TIMESTAMP\"] * 1000);\r\n          cur[\"Date\"] =\r\n            curT.getFullYear() + \"-\" + curT.getMonth() + \"-\" + curT.getDate();\r\n          cur[\"Hour\"] = i[\"TIMESLOT\"];\r\n          cur[\"Relation\"] = i[\"Relation\"];\r\n          cur[\"CriminalID\"] = i[\"CriminalID\"];\r\n          cur[\"VictimID\"] = i[\"VictimID\"];\r\n          cur[\"CrimeType\"] = i[\"CrimeType\"];\r\n          cur[\"Police_District\"] = i[\"POLICE_DISTRICT\"];\r\n          cur[\"Confirmed\"] = false;\r\n          result.push(cur);\r\n        }\r\n        vm.$store.commit(\"updateTable\", result);\r\n      });\r\n      console.log(result);\r\n    },\r\n  },\r\n};\r\n</script>"]}]}